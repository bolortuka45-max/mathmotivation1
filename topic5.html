<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8">
  <title>–î–∞–≤—Ö–∞—Ä —Ñ—É–Ω–∫—Ü</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to right, #f9f9f9, #e0e0e0);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 0;
    }

    .container {
      background: #fff;
      padding: 30px 40px;
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      max-width: 600px;
      width: 90%;
      text-align: center;
    }

    h1 { color: #333; }
    p { font-weight: bold; margin-top: 20px; color: #444; }
    label { display: block; background: #f1f3f5; padding: 10px; border-radius: 8px; margin: 8px 0; cursor: pointer; transition: background 0.2s; }
    label:hover { background: #dee2e6; }
    input[type="radio"] { margin-right: 10px; transform: scale(1.2); }
    select { width: 100%; padding: 10px; border-radius: 8px; border: 2px solid #e9ecef; font-size: 16px; margin-top: 10px; }
    button { margin-top: 20px; padding: 12px 25px; font-size: 16px; cursor: pointer; background: #4CAF50; color: white; border: none; border-radius: 10px; transition: background 0.3s, transform 0.2s; }
    button:hover { background: #45a049; transform: translateY(-2px); }
    #result { margin-top: 20px; font-weight: bold; font-size: 16px; text-align: center; }
  </style>
</head>
<body>
  <div class="container">
    <h1>–î–∞–≤—Ö–∞—Ä —Ñ—É–Ω–∫—Ü</h1>
    <form onsubmit="checkAnswer(event)">
      <p>–î–∞–≤—Ö–∞—Ä —Ñ—É–Ω–∫—Ü–∏–π–Ω –∂–∏—à—ç—ç–≥ —Å–æ–Ω–≥–æ–Ω–æ —É—É:</p>
      <label><input type="radio" name="q1" value="a"> f(x)=x^2</label>
      <label><input type="radio" name="q1" value="b"> f(x)=x^3</label>
      <label><input type="radio" name="q1" value="c"> f(x)=x+1</label>

      <p>üìö ”®–Ω”©”©–¥—Ä–∏–π–Ω —Ö–∏—á—ç—ç–ª–∏–π–Ω –æ–π–ª–≥–æ–ª—Ç —Ö—ç—Ä —Å–∞–π–Ω –±–∞–π–Ω–∞ –≤—ç?</p>
      <select id="understanding">
        <option value="">-- –°–æ–Ω–≥–æ–Ω–æ —É—É --</option>
        <option value="95">–ú–∞—à —Å–∞–π–Ω</option>
        <option value="80">–°–∞–π–Ω</option>
        <option value="65">–î—É–Ω–¥</option>
        <option value="40">–û–π–ª–≥–æ—Å–æ–Ω–≥“Ø–π</option>
      </select>

      <button type="submit">–ò–ª–≥—ç—ç—Ö</button>
    </form>
    <p id="result"></p>
  </div>

  <script>
    function checkAnswer(e){
      e.preventDefault();
      const name = localStorage.getItem('studentName') || '–ù—ç—Ä–≥“Ø–π';
      const studentCode = localStorage.getItem('studentCode') || '0000';
      const val = document.querySelector('input[name="q1"]:checked');
      const understanding = document.getElementById('understanding').value;

      if(!val){
        document.getElementById('result').textContent = "–•–∞—Ä–∏—É–ª—Ç –æ—Ä—É—É–ª–Ω–∞ —É—É.";
        return;
      }
      if(!understanding){
        document.getElementById('result').textContent = "”®–Ω”©”©–¥—Ä–∏–π–Ω –æ–π–ª–≥–æ–ª—Ç—ã–Ω “Ø–Ω—ç–ª–≥—ç—ç–≥ —Å–æ–Ω–≥–æ–Ω–æ —É—É.";
        return;
      }

      const correctAnswer = 'a';
      const quizScore = val.value === correctAnswer ? 100 : 0;
      const understandingScore = parseInt(understanding);

      // LocalStorage-–¥ —Ö–∞–¥–≥–∞–ª–∞—Ö
      let scoresData = JSON.parse(localStorage.getItem('scoresData')) || {};
      scoresData[studentCode] = {quizScore: quizScore, understandingScore: understandingScore};
      localStorage.setItem('scoresData', JSON.stringify(scoresData));

      // “Æ—Ä –¥“Ø–Ω–≥ —Ö–∞—Ä—É—É–ª–∞—Ö
      document.getElementById('result').textContent = 
        `${name}, —Ç–∞–Ω—ã —Ö–∞—Ä–∏—É–ª—Ç –±“Ø—Ä—Ç–≥—ç–≥–¥–ª—ç—ç. (–û–Ω–æ–æ: ${quizScore}%, ”®–Ω”©”©–¥—Ä–∏–π–Ω –æ–π–ª–≥–æ–ª—Ç: ${understandingScore}%)`;

      if(window.updateDashboard){
        updateDashboard();
      }
    }
  </script>
</body>
</html>
